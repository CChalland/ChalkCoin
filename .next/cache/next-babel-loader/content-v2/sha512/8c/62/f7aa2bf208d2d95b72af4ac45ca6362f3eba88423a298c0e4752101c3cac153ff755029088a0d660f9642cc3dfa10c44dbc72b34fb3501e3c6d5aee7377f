{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/colechalland/Projects/ChalkCoin/contexts/User.Context.js\";\nimport { createContext, useReducer, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport userReducer from \"../reducers/User.Reducer\";\nexport const UserContext = /*#__PURE__*/createContext();\nexport const UserDispatch = /*#__PURE__*/createContext();\nexport function UserProvider(props) {\n  const {\n    0: user,\n    1: dispatch\n  } = useReducer(userReducer, {});\n  const getData = useCallback(async () => {\n    try {\n      const res = await axios.get(\"/api/currentUser?type=layout\");\n      dispatch({\n        type: \"INIT\",\n        data: res.data\n      });\n    } catch (err) {\n      console.log(err.message);\n    }\n  });\n  useEffect(() => {\n    const timeOut = setTimeout(() => {\n      getData();\n    }, 15000);\n    return () => {\n      clearTimeout(timeOut);\n    };\n  });\n  useEffect(() => {\n    async function getUserData() {\n      try {\n        const res = await axios.get(\"/api/currentUser?type=layout\");\n        dispatch({\n          type: \"INIT\",\n          data: res.data\n        });\n      } catch (err) {\n        console.log(err.message);\n      }\n    }\n\n    getUserData();\n  }, []);\n  console.log(\"UserContext - user\", user);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: user,\n    children: /*#__PURE__*/_jsxDEV(UserDispatch.Provider, {\n      value: dispatch,\n      children: props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 3\n  }, this);\n}","map":{"version":3,"sources":["/Users/colechalland/Projects/ChalkCoin/contexts/User.Context.js"],"names":["createContext","useReducer","useEffect","useCallback","axios","userReducer","UserContext","UserDispatch","UserProvider","props","user","dispatch","getData","res","get","type","data","err","console","log","message","timeOut","setTimeout","clearTimeout","getUserData","children"],"mappings":";;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,WAA/C,QAAkE,OAAlE;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AAEA,OAAO,MAAMC,WAAW,gBAAGN,aAAa,EAAjC;AACP,OAAO,MAAMO,YAAY,gBAAGP,aAAa,EAAlC;AACP,OAAO,SAASQ,YAAT,CAAsBC,KAAtB,EAA6B;AACnC,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAmBV,UAAU,CAACI,WAAD,EAAc,EAAd,CAAnC;AAEA,QAAMO,OAAO,GAAGT,WAAW,CAAC,YAAY;AACvC,QAAI;AACH,YAAMU,GAAG,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAU,8BAAV,CAAlB;AACAH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,IAAI,EAAEH,GAAG,CAACG;AAA1B,OAAD,CAAR;AACA,KAHD,CAGE,OAAOC,GAAP,EAAY;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACA;AACD,GAP0B,CAA3B;AASAlB,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMmB,OAAO,GAAGC,UAAU,CAAC,MAAM;AAChCV,MAAAA,OAAO;AACP,KAFyB,EAEvB,KAFuB,CAA1B;AAIA,WAAO,MAAM;AACZW,MAAAA,YAAY,CAACF,OAAD,CAAZ;AACA,KAFD;AAGA,GARQ,CAAT;AAUAnB,EAAAA,SAAS,CAAC,MAAM;AACf,mBAAesB,WAAf,GAA6B;AAC5B,UAAI;AACH,cAAMX,GAAG,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAU,8BAAV,CAAlB;AACAH,QAAAA,QAAQ,CAAC;AAAEI,UAAAA,IAAI,EAAE,MAAR;AAAgBC,UAAAA,IAAI,EAAEH,GAAG,CAACG;AAA1B,SAAD,CAAR;AACA,OAHD,CAGE,OAAOC,GAAP,EAAY;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACA;AACD;;AACDI,IAAAA,WAAW;AACX,GAVQ,EAUN,EAVM,CAAT;AAYAN,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCT,IAAlC;AAEA,sBACC,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEA,IAA7B;AAAA,2BACC,QAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAEC,QAA9B;AAAA,gBAAyCF,KAAK,CAACgB;AAA/C;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AAKA","sourcesContent":["import { createContext, useReducer, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport userReducer from \"../reducers/User.Reducer\";\n\nexport const UserContext = createContext();\nexport const UserDispatch = createContext();\nexport function UserProvider(props) {\n\tconst [user, dispatch] = useReducer(userReducer, {});\n\n\tconst getData = useCallback(async () => {\n\t\ttry {\n\t\t\tconst res = await axios.get(\"/api/currentUser?type=layout\");\n\t\t\tdispatch({ type: \"INIT\", data: res.data });\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tconst timeOut = setTimeout(() => {\n\t\t\tgetData();\n\t\t}, 15000);\n\n\t\treturn () => {\n\t\t\tclearTimeout(timeOut);\n\t\t};\n\t});\n\n\tuseEffect(() => {\n\t\tasync function getUserData() {\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(\"/api/currentUser?type=layout\");\n\t\t\t\tdispatch({ type: \"INIT\", data: res.data });\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err.message);\n\t\t\t}\n\t\t}\n\t\tgetUserData();\n\t}, []);\n\n\tconsole.log(\"UserContext - user\", user);\n\n\treturn (\n\t\t<UserContext.Provider value={user}>\n\t\t\t<UserDispatch.Provider value={dispatch}>{props.children}</UserDispatch.Provider>\n\t\t</UserContext.Provider>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}