{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/colechalland/Projects/ChalkCoin/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/colechalland/Projects/ChalkCoin/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/colechalland/Projects/ChalkCoin/pages/user.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from \"react\";\nimport { Alert, Button, Card, Form, Collapse, Nav, Container, Row, Col, Tab } from \"react-bootstrap\";\nimport { useRouter } from \"next/router\";\nimport { BetContext } from \"../contexts/Bets.Context\";\nimport BetsTabs from \"../components/User/BetsTabs\";\nimport axios from \"axios\";\n\nvar emailValidation = function emailValidation(value) {\n  return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(value);\n};\n\nvar urlValidation = function urlValidation(value) {\n  var returnValue = true;\n\n  try {\n    new URL(value);\n  } catch (e) {\n    returnValue = false;\n  } finally {\n    return returnValue;\n  }\n\n  return false;\n};\n\nvar isRequired = function isRequired(value) {\n  return value !== null && value !== \"\" && value;\n};\n\nvar equalTo = function equalTo(value1, value2) {\n  return value1 === value2;\n};\n\nvar minLength = function minLength(value, length) {\n  return value.length >= length;\n};\n\nexport var __N_SSP = true;\nexport default function UserPage(_ref) {\n  _s();\n\n  var session = _ref.session;\n  var bets = useContext(BetContext);\n\n  var _useState = useState([]),\n      userBets = _useState[0],\n      setUserBets = _useState[1];\n\n  var _useState2 = useState({\n    username: session.user.username ? session.user.username : \"\",\n    name: session.user.name ? session.user.name : \"\",\n    email: session.user.email ? session.user.email : \"\",\n    image: session.user.image ? session.user.image : \"../static/img/faces/face-0.jpg\"\n  }),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(false),\n      newUserState = _useState3[0],\n      setNewUserState = _useState3[1];\n\n  var _useState4 = useState(false),\n      updateSuccessState = _useState4[0],\n      setUpdateSuccessState = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      errorMessage = _useState5[0],\n      setErrorMessage = _useState5[1];\n\n  var _useState6 = useState(false),\n      updateErrorState = _useState6[0],\n      setUpdateErrorState = _useState6[1];\n\n  var _useState7 = useState(user.username),\n      username = _useState7[0],\n      setUsername = _useState7[1];\n\n  var _useState8 = useState(true),\n      usernameState = _useState8[0],\n      setUsernameState = _useState8[1];\n\n  var _useState9 = useState(user.name),\n      name = _useState9[0],\n      setName = _useState9[1];\n\n  var _useState10 = useState(true),\n      nameState = _useState10[0],\n      setNameState = _useState10[1];\n\n  var _useState11 = useState(user.email),\n      email = _useState11[0],\n      setEmail = _useState11[1];\n\n  var _useState12 = useState(true),\n      emailState = _useState12[0],\n      setEmailState = _useState12[1];\n\n  var _useState13 = useState(user.image),\n      imageURL = _useState13[0],\n      setImageURL = _useState13[1];\n\n  var _useState14 = useState(true),\n      imageURLState = _useState14[0],\n      setImageURLState = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      password = _useState15[0],\n      setPassword = _useState15[1];\n\n  var _useState16 = useState(true),\n      passwordState = _useState16[0],\n      setPasswordState = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      confirmPassword = _useState17[0],\n      setConfirmPassword = _useState17[1];\n\n  var _useState18 = useState(true),\n      confirmPasswordState = _useState18[0],\n      setConfirmPasswordState = _useState18[1];\n\n  var router = useRouter();\n\n  var updateProfile = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var updatedUser, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              updatedUser = {};\n              if (username && (usernameState || isRequired(username))) updatedUser.username = username;\n              if (name) updatedUser.name = name;\n              if (email && (emailState || emailValidation(email))) updatedUser.email = email;\n              if (imageURL && (imageURLState || urlValidation(imageURL))) updatedUser.image = imageURL;\n              if (password && confirmPassword && (confirmPasswordState || minLength(confirmPassword, 1) || equalTo(confirmPassword, password))) updatedUser.password = confirmPassword;\n\n              if (!(usernameState && emailState && passwordState && confirmPasswordState)) {\n                _context.next = 14;\n                break;\n              }\n\n              _context.next = 9;\n              return axios.post(\"/api/currentUser\", updatedUser);\n\n            case 9:\n              response = _context.sent;\n              console.log(response);\n\n              if (response.data.id) {\n                setUser(response.data);\n                setUpdateSuccessState(true);\n                setNewUserState(false);\n                setUpdateErrorState(false);\n                router.replace(\"/user\", undefined, {\n                  shallow: true\n                });\n              } else if (response.data.error) {\n                setErrorMessage(response.data.error);\n                setUpdateErrorState(true);\n              }\n\n              _context.next = 15;\n              break;\n\n            case 14:\n              setUpdateErrorState(true);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function updateProfile() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var newUserAlert, updateSuccessAlert, updateErrorAlert;\n\n  if (newUserState) {\n    newUserAlert = /*#__PURE__*/_jsxDEV(Alert, {\n      className: \"alert-with-icon\",\n      variant: \"danger\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-hidden\": true,\n        className: \"close\",\n        \"data-dismiss\": \"alert\",\n        type: \"button\",\n        onClick: function onClick() {\n          setNewUserState(false);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"nc-icon nc-simple-remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        \"data-notify\": \"icon\",\n        className: \"nc-icon nc-bell-55\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        \"data-notify\": \"message\",\n        children: \"Please fill in the required fields to complete registration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 4\n    }, this);\n  }\n\n  if (updateSuccessState) {\n    updateSuccessAlert = /*#__PURE__*/_jsxDEV(Alert, {\n      className: \"alert-with-icon\",\n      variant: \"info\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-hidden\": true,\n        className: \"close\",\n        \"data-dismiss\": \"alert\",\n        type: \"button\",\n        onClick: function onClick() {\n          setUpdateSuccessState(false);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"nc-icon nc-simple-remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        \"data-notify\": \"icon\",\n        className: \"nc-icon nc-bell-55\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        \"data-notify\": \"message\",\n        children: \"Updated your settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 4\n    }, this);\n  }\n\n  if (updateErrorState) {\n    updateErrorAlert = /*#__PURE__*/_jsxDEV(Alert, {\n      className: \"alert-with-icon\",\n      variant: \"danger\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-hidden\": true,\n        className: \"close\",\n        \"data-dismiss\": \"alert\",\n        type: \"button\",\n        onClick: function onClick() {\n          setUpdateErrorState(false);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"nc-icon nc-simple-remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        \"data-notify\": \"icon\",\n        className: \"nc-icon nc-bell-55\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        \"data-notify\": \"message\",\n        children: errorMessage ? errorMessage : \"Please correct the highlighted fields\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 4\n    }, this);\n  }\n\n  useEffect(function () {\n    if (router.query.newUser) {\n      setNewUserState(true);\n      if (!user.username) setUsernameState(false);\n      if (!user.email) setEmailState(false);\n      setPasswordState(false);\n      setConfirmPasswordState(false);\n    }\n  }, [router]);\n  useEffect(function () {\n    var _bets$userBets$pendin, _bets$userBets$pendin2, _bets$userBets$pendin3, _bets$userBets$pendin4, _bets$userBets$accept, _bets$userBets$comple;\n\n    var userBetsData = [];\n    if ((_bets$userBets$pendin = bets.userBets.pendingBets) !== null && _bets$userBets$pendin !== void 0 && _bets$userBets$pendin.recipientBets.length) userBetsData.push({\n      type: \"Received\",\n      bets: (_bets$userBets$pendin2 = bets.userBets.pendingBets) === null || _bets$userBets$pendin2 === void 0 ? void 0 : _bets$userBets$pendin2.recipientBets\n    });\n    if ((_bets$userBets$pendin3 = bets.userBets.pendingBets) !== null && _bets$userBets$pendin3 !== void 0 && _bets$userBets$pendin3.openBets.length) userBetsData.push({\n      type: \"Open\",\n      bets: (_bets$userBets$pendin4 = bets.userBets.pendingBets) === null || _bets$userBets$pendin4 === void 0 ? void 0 : _bets$userBets$pendin4.openBets\n    });\n    if ((_bets$userBets$accept = bets.userBets.acceptedBets) !== null && _bets$userBets$accept !== void 0 && _bets$userBets$accept.length) userBetsData.push({\n      type: \"Accepted\",\n      bets: bets.userBets.acceptedBets\n    });\n    if ((_bets$userBets$comple = bets.userBets.completedBets) !== null && _bets$userBets$comple !== void 0 && _bets$userBets$comple.length) userBetsData.push({\n      type: \"Completed\",\n      bets: bets.userBets.completedBets\n    });\n    setUserBets(userBetsData);\n  }, [bets.userBets]); // console.log(\"UserPage bets\", bets);\n  // console.log(\"UserPage session\", session);\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        className: \"\",\n        children: /*#__PURE__*/_jsxDEV(Tab.Container, {\n          defaultActiveKey: \"user-page-settings\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"nav-container\",\n            children: /*#__PURE__*/_jsxDEV(Nav, {\n              role: \"tablist\",\n              variant: \"tabs\",\n              className: \"justify-content-start border-0 nav-icons\",\n              children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"user-page-settings\",\n                  className: \"border-0 bg-transparent\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"nc-icon nc-preferences-circle-rotate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 11\n                  }, this), \"Edit Profile\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"user-page-bets\",\n                  className: \"border-0 bg-transparent\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"nc-icon nc-paper-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 11\n                  }, this), \"Your Bets\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n            children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n              eventKey: \"user-page-settings\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col // xs={{ span: 12, order: 2 }}\n                // md={{ span: 8, order: 1 }}\n                // lg={{ span: 9, order: 2 }}\n                // xl={{ span: 9, order: 1 }}\n                , {\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                      children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                        as: \"h4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"nc-icon nc-preferences-circle-rotate\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 207,\n                          columnNumber: 14\n                        }, this), \" Edit Profile\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 206,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 12\n                    }, this), newUserAlert, updateErrorAlert, updateSuccessAlert, /*#__PURE__*/_jsxDEV(Card.Body, {\n                      children: [/*#__PURE__*/_jsxDEV(Row, {\n                        children: [/*#__PURE__*/_jsxDEV(Col, {\n                          className: \"pr-1\",\n                          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                            className: \"has-label \" + (usernameState ? \"has-success\" : \"has-error\"),\n                            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                              children: [\"Username \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"star\",\n                                children: \"*\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 220,\n                                columnNumber: 26\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 219,\n                              columnNumber: 16\n                            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                              placeholder: \"Username\",\n                              name: \"username\",\n                              type: \"text\",\n                              value: username,\n                              onChange: function onChange(e) {\n                                setUsername(e.target.value);\n\n                                if (isRequired(e.target.value)) {\n                                  setUsernameState(true);\n                                } else {\n                                  setUsernameState(false);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 222,\n                              columnNumber: 16\n                            }, this), usernameState ? null : /*#__PURE__*/_jsxDEV(\"label\", {\n                              className: \"error\",\n                              children: \"This field is required.\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 237,\n                              columnNumber: 17\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 216,\n                            columnNumber: 15\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 215,\n                          columnNumber: 14\n                        }, this), /*#__PURE__*/_jsxDEV(Col, {\n                          className: \"pl-1\",\n                          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                            className: \"has-label \" + (nameState ? \"has-success\" : \"has-error\"),\n                            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                              children: \"Name\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 243,\n                              columnNumber: 16\n                            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                              placeholder: \"Name\",\n                              name: \"name\",\n                              type: \"text\",\n                              value: name,\n                              onChange: function onChange(e) {\n                                setName(e.target.value); // if (isRequired(e.target.value)) {\n                                // \tsetNameState(true);\n                                // } else {\n                                // \tsetNameState(false);\n                                // }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 244,\n                              columnNumber: 16\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 242,\n                            columnNumber: 15\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 241,\n                          columnNumber: 14\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 214,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(Row, {\n                        children: [/*#__PURE__*/_jsxDEV(Col, {\n                          className: \"pr-1\",\n                          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                            className: \"has-label \" + (emailState ? \"has-success\" : \"has-error\"),\n                            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                              children: [\"Email Address \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"star\",\n                                children: \"*\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 265,\n                                columnNumber: 31\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 264,\n                              columnNumber: 16\n                            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                              placeholder: \"Email\",\n                              name: \"email\",\n                              type: \"text\",\n                              value: email,\n                              onChange: function onChange(e) {\n                                setEmail(e.target.value);\n\n                                if (emailValidation(e.target.value)) {\n                                  setEmailState(true);\n                                } else {\n                                  setEmailState(false);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 267,\n                              columnNumber: 16\n                            }, this), emailState ? null : /*#__PURE__*/_jsxDEV(\"label\", {\n                              className: \"error\",\n                              children: \"This field is required.\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 281,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 263,\n                            columnNumber: 15\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 262,\n                          columnNumber: 14\n                        }, this), /*#__PURE__*/_jsxDEV(Col, {\n                          className: \"pl-1\",\n                          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                            className: \"has-label \" + (imageURLState ? \"has-success\" : \"has-error\"),\n                            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                              children: \"Image\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 288,\n                              columnNumber: 16\n                            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                              placeholder: \"URL\",\n                              name: \"image\",\n                              type: \"text\",\n                              value: imageURL,\n                              onChange: function onChange(e) {\n                                setImageURL(e.target.value);\n\n                                if (urlValidation(e.target.value)) {\n                                  setImageURLState(true);\n                                } else {\n                                  setImageURLState(false);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 289,\n                              columnNumber: 16\n                            }, this), imageURLState ? null : /*#__PURE__*/_jsxDEV(\"label\", {\n                              className: \"error\",\n                              children: \"This field has to be URL address.\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 304,\n                              columnNumber: 17\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 285,\n                            columnNumber: 15\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 284,\n                          columnNumber: 14\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 261,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(Row, {\n                        children: [/*#__PURE__*/_jsxDEV(Col, {\n                          className: \"pr-1\",\n                          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                            className: \"has-label \" + (passwordState ? \"has-success\" : \"has-error\"),\n                            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                              children: [\"Password \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"star\",\n                                children: \"*\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 315,\n                                columnNumber: 26\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 314,\n                              columnNumber: 16\n                            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                              placeholder: \"Password\",\n                              name: \"password\",\n                              type: \"password\",\n                              value: password,\n                              onChange: function onChange(e) {\n                                setPassword(e.target.value);\n\n                                if (minLength(e.target.value, 1)) {\n                                  setPasswordState(true);\n                                } else {\n                                  setPasswordState(false);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 317,\n                              columnNumber: 16\n                            }, this), passwordState ? null : /*#__PURE__*/_jsxDEV(\"label\", {\n                              className: \"error\",\n                              children: \"This field is required.\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 332,\n                              columnNumber: 17\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 311,\n                            columnNumber: 15\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 310,\n                          columnNumber: 14\n                        }, this), /*#__PURE__*/_jsxDEV(Col, {\n                          className: \"pl-1\",\n                          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                            className: \"has-label \" + (confirmPasswordState ? \"has-success\" : \"has-error\"),\n                            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                              children: [\"Confirm Password \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"star\",\n                                children: \"*\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 341,\n                                columnNumber: 34\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 340,\n                              columnNumber: 16\n                            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                              placeholder: \"Password\",\n                              name: \"confirmPassword\",\n                              type: \"password\",\n                              value: confirmPassword,\n                              onChange: function onChange(e) {\n                                setConfirmPassword(e.target.value);\n\n                                if (equalTo(e.target.value, password)) {\n                                  setConfirmPasswordState(true);\n                                } else {\n                                  setConfirmPasswordState(false);\n                                }\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 343,\n                              columnNumber: 16\n                            }, this), confirmPasswordState ? null : /*#__PURE__*/_jsxDEV(\"label\", {\n                              className: \"error\",\n                              children: \"This field is required and needs to be equal with your entered password.\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 358,\n                              columnNumber: 17\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 337,\n                            columnNumber: 15\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 336,\n                          columnNumber: 14\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 309,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card-category form-category\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"star\",\n                          children: \"*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 366,\n                          columnNumber: 14\n                        }, this), \"Required fields\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 365,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 369,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        className: \"btn-fill pull-right\",\n                        variant: \"info\",\n                        onClick: function onClick() {\n                          updateProfile();\n                        },\n                        children: \"Update Profile\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 370,\n                        columnNumber: 13\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n              eventKey: \"user-page-bets\",\n              children: /*#__PURE__*/_jsxDEV(BetsTabs, {\n                userBets: userBets,\n                currentUser: session.user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 3\n  }, this);\n}\n\n_s(UserPage, \"jM6vsE/i2/j+yjnx3VZW4VCsBiA=\", false, function () {\n  return [useRouter];\n});\n\n_c = UserPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"sources":["/Users/colechalland/Projects/ChalkCoin/pages/user.js"],"names":["useState","useEffect","useContext","Alert","Button","Card","Form","Collapse","Nav","Container","Row","Col","Tab","useRouter","BetContext","BetsTabs","axios","emailValidation","value","test","urlValidation","returnValue","URL","e","isRequired","equalTo","value1","value2","minLength","length","UserPage","session","bets","userBets","setUserBets","username","user","name","email","image","setUser","newUserState","setNewUserState","updateSuccessState","setUpdateSuccessState","errorMessage","setErrorMessage","updateErrorState","setUpdateErrorState","setUsername","usernameState","setUsernameState","setName","nameState","setNameState","setEmail","emailState","setEmailState","imageURL","setImageURL","imageURLState","setImageURLState","password","setPassword","passwordState","setPasswordState","confirmPassword","setConfirmPassword","confirmPasswordState","setConfirmPasswordState","router","updateProfile","updatedUser","post","response","console","log","data","id","replace","undefined","shallow","error","newUserAlert","updateSuccessAlert","updateErrorAlert","query","newUser","userBetsData","pendingBets","recipientBets","push","type","openBets","acceptedBets","completedBets","target"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport { Alert, Button, Card, Form, Collapse, Nav, Container, Row, Col, Tab } from \"react-bootstrap\";\nimport { getSession } from \"next-auth/client\";\nimport { useRouter } from \"next/router\";\nimport { BetContext } from \"../contexts/Bets.Context\";\nimport BetsTabs from \"../components/User/BetsTabs\";\nimport axios from \"axios\";\nimport prisma from \"../contexts/prisma\";\n\nconst emailValidation = (value) =>\n\t/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(value);\nconst urlValidation = (value) => {\n\tlet returnValue = true;\n\ttry {\n\t\tnew URL(value);\n\t} catch (e) {\n\t\treturnValue = false;\n\t} finally {\n\t\treturn returnValue;\n\t}\n\treturn false;\n};\nconst isRequired = (value) => value !== null && value !== \"\" && value;\nconst equalTo = (value1, value2) => value1 === value2;\nconst minLength = (value, length) => value.length >= length;\n\nexport default function UserPage({ session }) {\n\tconst bets = useContext(BetContext);\n\tconst [userBets, setUserBets] = useState([]);\n\tconst [user, setUser] = useState({\n\t\tusername: session.user.username ? session.user.username : \"\",\n\t\tname: session.user.name ? session.user.name : \"\",\n\t\temail: session.user.email ? session.user.email : \"\",\n\t\timage: session.user.image ? session.user.image : \"../static/img/faces/face-0.jpg\",\n\t});\n\tconst [newUserState, setNewUserState] = useState(false);\n\tconst [updateSuccessState, setUpdateSuccessState] = useState(false);\n\tconst [errorMessage, setErrorMessage] = useState(\"\");\n\tconst [updateErrorState, setUpdateErrorState] = useState(false);\n\tconst [username, setUsername] = useState(user.username);\n\tconst [usernameState, setUsernameState] = useState(true);\n\tconst [name, setName] = useState(user.name);\n\tconst [nameState, setNameState] = useState(true);\n\tconst [email, setEmail] = useState(user.email);\n\tconst [emailState, setEmailState] = useState(true);\n\tconst [imageURL, setImageURL] = useState(user.image);\n\tconst [imageURLState, setImageURLState] = useState(true);\n\tconst [password, setPassword] = useState(\"\");\n\tconst [passwordState, setPasswordState] = useState(true);\n\tconst [confirmPassword, setConfirmPassword] = useState(\"\");\n\tconst [confirmPasswordState, setConfirmPasswordState] = useState(true);\n\tconst router = useRouter();\n\tconst updateProfile = async () => {\n\t\tlet updatedUser = {};\n\t\tif (username && (usernameState || isRequired(username))) updatedUser.username = username;\n\t\tif (name) updatedUser.name = name;\n\t\tif (email && (emailState || emailValidation(email))) updatedUser.email = email;\n\t\tif (imageURL && (imageURLState || urlValidation(imageURL))) updatedUser.image = imageURL;\n\t\tif (\n\t\t\tpassword &&\n\t\t\tconfirmPassword &&\n\t\t\t(confirmPasswordState || minLength(confirmPassword, 1) || equalTo(confirmPassword, password))\n\t\t)\n\t\t\tupdatedUser.password = confirmPassword;\n\n\t\tif (usernameState && emailState && passwordState && confirmPasswordState) {\n\t\t\tlet response = await axios.post(`/api/currentUser`, updatedUser);\n\t\t\tconsole.log(response);\n\t\t\tif (response.data.id) {\n\t\t\t\tsetUser(response.data);\n\t\t\t\tsetUpdateSuccessState(true);\n\t\t\t\tsetNewUserState(false);\n\t\t\t\tsetUpdateErrorState(false);\n\t\t\t\trouter.replace(\"/user\", undefined, { shallow: true });\n\t\t\t} else if (response.data.error) {\n\t\t\t\tsetErrorMessage(response.data.error);\n\t\t\t\tsetUpdateErrorState(true);\n\t\t\t}\n\t\t} else {\n\t\t\tsetUpdateErrorState(true);\n\t\t}\n\t};\n\n\tlet newUserAlert, updateSuccessAlert, updateErrorAlert;\n\tif (newUserState) {\n\t\tnewUserAlert = (\n\t\t\t<Alert className=\"alert-with-icon\" variant=\"danger\">\n\t\t\t\t<button\n\t\t\t\t\taria-hidden={true}\n\t\t\t\t\tclassName=\"close\"\n\t\t\t\t\tdata-dismiss=\"alert\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetNewUserState(false);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"nc-icon nc-simple-remove\"></i>\n\t\t\t\t</button>\n\t\t\t\t<span data-notify=\"icon\" className=\"nc-icon nc-bell-55\"></span>\n\t\t\t\t<span data-notify=\"message\">Please fill in the required fields to complete registration</span>\n\t\t\t</Alert>\n\t\t);\n\t}\n\tif (updateSuccessState) {\n\t\tupdateSuccessAlert = (\n\t\t\t<Alert className=\"alert-with-icon\" variant=\"info\">\n\t\t\t\t<button\n\t\t\t\t\taria-hidden={true}\n\t\t\t\t\tclassName=\"close\"\n\t\t\t\t\tdata-dismiss=\"alert\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetUpdateSuccessState(false);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"nc-icon nc-simple-remove\"></i>\n\t\t\t\t</button>\n\t\t\t\t<span data-notify=\"icon\" className=\"nc-icon nc-bell-55\"></span>\n\t\t\t\t<span data-notify=\"message\">Updated your settings</span>\n\t\t\t</Alert>\n\t\t);\n\t}\n\tif (updateErrorState) {\n\t\tupdateErrorAlert = (\n\t\t\t<Alert className=\"alert-with-icon\" variant=\"danger\">\n\t\t\t\t<button\n\t\t\t\t\taria-hidden={true}\n\t\t\t\t\tclassName=\"close\"\n\t\t\t\t\tdata-dismiss=\"alert\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetUpdateErrorState(false);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"nc-icon nc-simple-remove\"></i>\n\t\t\t\t</button>\n\t\t\t\t<span data-notify=\"icon\" className=\"nc-icon nc-bell-55\"></span>\n\t\t\t\t<span data-notify=\"message\">\n\t\t\t\t\t{errorMessage ? errorMessage : \"Please correct the highlighted fields\"}\n\t\t\t\t</span>\n\t\t\t</Alert>\n\t\t);\n\t}\n\tuseEffect(() => {\n\t\tif (router.query.newUser) {\n\t\t\tsetNewUserState(true);\n\t\t\tif (!user.username) setUsernameState(false);\n\t\t\tif (!user.email) setEmailState(false);\n\t\t\tsetPasswordState(false);\n\t\t\tsetConfirmPasswordState(false);\n\t\t}\n\t}, [router]);\n\n\tuseEffect(() => {\n\t\tlet userBetsData = [];\n\t\tif (bets.userBets.pendingBets?.recipientBets.length)\n\t\t\tuserBetsData.push({ type: \"Received\", bets: bets.userBets.pendingBets?.recipientBets });\n\t\tif (bets.userBets.pendingBets?.openBets.length)\n\t\t\tuserBetsData.push({ type: \"Open\", bets: bets.userBets.pendingBets?.openBets });\n\t\tif (bets.userBets.acceptedBets?.length)\n\t\t\tuserBetsData.push({ type: \"Accepted\", bets: bets.userBets.acceptedBets });\n\t\tif (bets.userBets.completedBets?.length)\n\t\t\tuserBetsData.push({ type: \"Completed\", bets: bets.userBets.completedBets });\n\n\t\tsetUserBets(userBetsData);\n\t}, [bets.userBets]);\n\n\t// console.log(\"UserPage bets\", bets);\n\t// console.log(\"UserPage session\", session);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row>\n\t\t\t\t<Col className=\"\">\n\t\t\t\t\t<Tab.Container defaultActiveKey=\"user-page-settings\">\n\t\t\t\t\t\t<div className=\"nav-container\">\n\t\t\t\t\t\t\t<Nav role=\"tablist\" variant=\"tabs\" className=\"justify-content-start border-0 nav-icons\">\n\t\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t\t<Nav.Link eventKey=\"user-page-settings\" className=\"border-0 bg-transparent\">\n\t\t\t\t\t\t\t\t\t\t<i className=\"nc-icon nc-preferences-circle-rotate\"></i>\n\t\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t\tEdit Profile\n\t\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t\t<Nav.Link eventKey=\"user-page-bets\" className=\"border-0 bg-transparent\">\n\t\t\t\t\t\t\t\t\t\t<i className=\"nc-icon nc-paper-2\"></i>\n\t\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t\tYour Bets\n\t\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Tab.Content>\n\t\t\t\t\t\t\t<Tab.Pane eventKey=\"user-page-settings\">\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t{/* Edit User Col */}\n\t\t\t\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\t\t\t// xs={{ span: 12, order: 2 }}\n\t\t\t\t\t\t\t\t\t// md={{ span: 8, order: 1 }}\n\t\t\t\t\t\t\t\t\t// lg={{ span: 9, order: 2 }}\n\t\t\t\t\t\t\t\t\t// xl={{ span: 9, order: 1 }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title as=\"h4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"nc-icon nc-preferences-circle-rotate\"></i> Edit Profile\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t{newUserAlert}\n\t\t\t\t\t\t\t\t\t\t\t{updateErrorAlert}\n\t\t\t\t\t\t\t\t\t\t\t{updateSuccessAlert}\n\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"pr-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"has-label \" + (usernameState ? \"has-success\" : \"has-error\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tUsername <span className=\"star\">*</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetUsername(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (isRequired(e.target.value)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetUsernameState(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetUsernameState(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{usernameState ? null : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"error\">This field is required.</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"pl-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group className={\"has-label \" + (nameState ? \"has-success\" : \"has-error\")}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetName(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// if (isRequired(e.target.value)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \tsetNameState(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \tsetNameState(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"pr-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group className={\"has-label \" + (emailState ? \"has-success\" : \"has-error\")}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEmail Address <span className=\"star\">*</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (emailValidation(e.target.value)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEmailState(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEmailState(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{emailState ? null : <label className=\"error\">This field is required.</label>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"pl-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"has-label \" + (imageURLState ? \"has-success\" : \"has-error\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Image</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"URL\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"image\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={imageURL}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetImageURL(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (urlValidation(e.target.value)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetImageURLState(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetImageURLState(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{imageURLState ? null : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"error\">This field has to be URL address.</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"pr-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"has-label \" + (passwordState ? \"has-success\" : \"has-error\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPassword <span className=\"star\">*</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPassword(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (minLength(e.target.value, 1)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPasswordState(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPasswordState(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{passwordState ? null : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"error\">This field is required.</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"pl-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"has-label \" + (confirmPasswordState ? \"has-success\" : \"has-error\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tConfirm Password <span className=\"star\">*</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={confirmPassword}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetConfirmPassword(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (equalTo(e.target.value, password)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetConfirmPasswordState(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetConfirmPasswordState(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{confirmPasswordState ? null : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"error\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tThis field is required and needs to be equal with your entered password.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-category form-category\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"star\">*</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\tRequired fields\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-fill pull-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateProfile();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tUpdate Profile\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t\t\t{/* For User Card */}\n\t\t\t\t\t\t\t\t\t{/* <Col\n\t\t\t\t\t\t\t\t\t\txs={{ span: 12, order: 1 }}\n\t\t\t\t\t\t\t\t\t\t// md={{ span: 4, order: 2 }}\n\t\t\t\t\t\t\t\t\t\tlg={{ span: 12, order: 1 }}\n\t\t\t\t\t\t\t\t\t\txl={{ span: 3, order: 2 }}\n\t\t\t\t\t\t\t\t\t\t// className=\"d-none d-xl-block\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Card className=\"card-user\">\n\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"no-padding\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-image\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img alt=\"...\" src={\"../static/img/full-screen-image-3.jpg\"}></img>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"author\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img alt=\"...\" className=\"avatar border-gray\" src={user.image}></img>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title as=\"h3\">{user.name || user.username}</Card.Title>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-description\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>Testing</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>Testing2</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</Col> */}\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Tab.Pane>\n\t\t\t\t\t\t\t<Tab.Pane eventKey=\"user-page-bets\">\n\t\t\t\t\t\t\t\t<BetsTabs userBets={userBets} currentUser={session.user} />\n\t\t\t\t\t\t\t</Tab.Pane>\n\t\t\t\t\t\t</Tab.Content>\n\t\t\t\t\t</Tab.Container>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n}\n\nexport async function getServerSideProps(context) {\n\tconst { req, res } = context;\n\tlet session = await getSession({ req });\n\n\tif (session) {\n\t\tconst user = await prisma.user.findUnique({\n\t\t\twhere: {\n\t\t\t\tid: session.user.id,\n\t\t\t},\n\t\t\tinclude: {\n\t\t\t\trequester: { select: { id: true } },\n\t\t\t\taccepter: { select: { id: true } },\n\t\t\t\trecipient: { select: { id: true } },\n\t\t\t\twinner: { select: { id: true } },\n\t\t\t},\n\t\t});\n\t\tdelete user.password;\n\t\tuser.emailVerified = JSON.stringify(user.emailVerified);\n\t\tuser.createdAt = JSON.stringify(user.createdAt);\n\t\tuser.updatedAt = JSON.stringify(user.updatedAt);\n\n\t\tsession.user = user;\n\t\treturn {\n\t\t\tprops: { session },\n\t\t};\n\t} else {\n\t\tres.writeHead(302, { Location: \"/\" });\n\t\tres.end();\n\t\treturn { props: {} };\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}