{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/colechalland/Projects/ChalkCoin/contexts/User.Context.js\";\nimport { createContext, useState, useReducer, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport userReducer from \"../reducers/User.Reducer\";\nexport const UserContext = /*#__PURE__*/createContext();\nexport const UserDispatch = /*#__PURE__*/createContext();\nexport function UserProvider(props) {\n  const {\n    0: user,\n    1: dispatch\n  } = useReducer(userReducer, {});\n  const {\n    0: loggedIn,\n    1: setLoggedIn\n  } = useState(false);\n  const getData = useCallback(async () => {\n    try {\n      const res = await axios.get(\"/api/currentUser?type=layout\");\n      dispatch({\n        type: \"INIT\",\n        data: res.data\n      });\n    } catch (err) {\n      console.log(err.message);\n    }\n  });\n  useEffect(() => {\n    const timeOut = setTimeout(() => {\n      getData();\n    }, 15000);\n    return () => {\n      clearTimeout(timeOut);\n    };\n  });\n  useEffect(() => {\n    async function getUserData() {\n      try {\n        const res = await axios.get(\"/api/currentUser?type=layout\");\n\n        if (res.data.error) {}\n\n        dispatch({\n          type: \"INIT\",\n          data: res.data\n        });\n      } catch (err) {\n        console.log(err.message);\n      }\n    }\n\n    getUserData();\n  }, []);\n  console.log(\"UserContext - user\", user);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: user,\n    children: /*#__PURE__*/_jsxDEV(UserDispatch.Provider, {\n      value: dispatch,\n      children: props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n}","map":{"version":3,"sources":["/Users/colechalland/Projects/ChalkCoin/contexts/User.Context.js"],"names":["createContext","useState","useReducer","useEffect","useCallback","axios","userReducer","UserContext","UserDispatch","UserProvider","props","user","dispatch","loggedIn","setLoggedIn","getData","res","get","type","data","err","console","log","message","timeOut","setTimeout","clearTimeout","getUserData","error","children"],"mappings":";;AAAA,SAASA,aAAT,EAAwBC,QAAxB,EAAkCC,UAAlC,EAA8CC,SAA9C,EAAyDC,WAAzD,QAA4E,OAA5E;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AAEA,OAAO,MAAMC,WAAW,gBAAGP,aAAa,EAAjC;AACP,OAAO,MAAMQ,YAAY,gBAAGR,aAAa,EAAlC;AACP,OAAO,SAASS,YAAT,CAAsBC,KAAtB,EAA6B;AACnC,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAmBV,UAAU,CAACI,WAAD,EAAc,EAAd,CAAnC;AACA,QAAM;AAAA,OAACO,QAAD;AAAA,OAAWC;AAAX,MAA0Bb,QAAQ,CAAC,KAAD,CAAxC;AAEA,QAAMc,OAAO,GAAGX,WAAW,CAAC,YAAY;AACvC,QAAI;AACH,YAAMY,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAN,CAAU,8BAAV,CAAlB;AACAL,MAAAA,QAAQ,CAAC;AAAEM,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,IAAI,EAAEH,GAAG,CAACG;AAA1B,OAAD,CAAR;AACA,KAHD,CAGE,OAAOC,GAAP,EAAY;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACA;AACD,GAP0B,CAA3B;AASApB,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMqB,OAAO,GAAGC,UAAU,CAAC,MAAM;AAChCV,MAAAA,OAAO;AACP,KAFyB,EAEvB,KAFuB,CAA1B;AAIA,WAAO,MAAM;AACZW,MAAAA,YAAY,CAACF,OAAD,CAAZ;AACA,KAFD;AAGA,GARQ,CAAT;AAUArB,EAAAA,SAAS,CAAC,MAAM;AACf,mBAAewB,WAAf,GAA6B;AAC5B,UAAI;AACH,cAAMX,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAN,CAAU,8BAAV,CAAlB;;AACA,YAAID,GAAG,CAACG,IAAJ,CAASS,KAAb,EAAoB,CACnB;;AACDhB,QAAAA,QAAQ,CAAC;AAAEM,UAAAA,IAAI,EAAE,MAAR;AAAgBC,UAAAA,IAAI,EAAEH,GAAG,CAACG;AAA1B,SAAD,CAAR;AACA,OALD,CAKE,OAAOC,GAAP,EAAY;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACA;AACD;;AACDI,IAAAA,WAAW;AACX,GAZQ,EAYN,EAZM,CAAT;AAcAN,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCX,IAAlC;AAEA,sBACC,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEA,IAA7B;AAAA,2BACC,QAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAEC,QAA9B;AAAA,gBAAyCF,KAAK,CAACmB;AAA/C;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AAKA","sourcesContent":["import { createContext, useState, useReducer, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport userReducer from \"../reducers/User.Reducer\";\n\nexport const UserContext = createContext();\nexport const UserDispatch = createContext();\nexport function UserProvider(props) {\n\tconst [user, dispatch] = useReducer(userReducer, {});\n\tconst [loggedIn, setLoggedIn] = useState(false);\n\n\tconst getData = useCallback(async () => {\n\t\ttry {\n\t\t\tconst res = await axios.get(\"/api/currentUser?type=layout\");\n\t\t\tdispatch({ type: \"INIT\", data: res.data });\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tconst timeOut = setTimeout(() => {\n\t\t\tgetData();\n\t\t}, 15000);\n\n\t\treturn () => {\n\t\t\tclearTimeout(timeOut);\n\t\t};\n\t});\n\n\tuseEffect(() => {\n\t\tasync function getUserData() {\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(\"/api/currentUser?type=layout\");\n\t\t\t\tif (res.data.error) {\n\t\t\t\t}\n\t\t\t\tdispatch({ type: \"INIT\", data: res.data });\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err.message);\n\t\t\t}\n\t\t}\n\t\tgetUserData();\n\t}, []);\n\n\tconsole.log(\"UserContext - user\", user);\n\n\treturn (\n\t\t<UserContext.Provider value={user}>\n\t\t\t<UserDispatch.Provider value={dispatch}>{props.children}</UserDispatch.Provider>\n\t\t</UserContext.Provider>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}