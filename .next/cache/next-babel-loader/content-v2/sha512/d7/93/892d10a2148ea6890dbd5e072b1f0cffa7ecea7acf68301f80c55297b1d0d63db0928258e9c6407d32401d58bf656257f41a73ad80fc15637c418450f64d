{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/colechalland/Projects/ChalkCoin/contexts/Sports.Context.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createContext, useContext, useCallback, useReducer, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport sportsReducer from \"../reducers/Sports.Reducer\";\nexport const SportContext = /*#__PURE__*/createContext();\nexport const SportDispatch = /*#__PURE__*/createContext();\nlet initialSportsData = [{\n  id: 1,\n  abbrv: \"NCAAF\",\n  sport: \"football\",\n  display_name: \"NCAA Football\",\n  league_name: \"college-football\",\n  data: {\n    days: []\n  },\n  reload: false,\n  path: \"/games?sport=ncaaf\",\n  name: \"Football\",\n  image: \"../../static/media/sports-icons/1.png\",\n  mini: \"NCAAB\"\n}, {\n  id: 2,\n  abbrv: \"NFL\",\n  sport: \"football\",\n  display_name: \"NFL\",\n  league_name: \"nfl\",\n  data: {\n    days: []\n  },\n  reload: false,\n  path: \"/games?sport=nfl\",\n  name: \"NFL\",\n  image: \"../../static/media/sports-icons/2.png\",\n  mini: \"NFL\"\n}, {\n  id: 3,\n  abbrv: \"MLB\",\n  sport: \"baseball\",\n  display_name: \"MLB\",\n  league_name: \"mlb\",\n  data: {\n    days: []\n  },\n  reload: false,\n  path: \"/games?sport=mlb\",\n  name: \"MLB\",\n  image: \"../../static/media/sports-icons/3.png\",\n  mini: \"../../static/media/sports-icons/3.png\"\n}, {\n  id: 4,\n  abbrv: \"NBA\",\n  sport: \"basketball\",\n  display_name: \"NBA\",\n  league_name: \"nba\",\n  data: {\n    days: []\n  },\n  reload: false,\n  path: \"/games?sport=nba\",\n  name: \"NBA\",\n  image: \"../../static/media/sports-icons/4.png\",\n  mini: \"../../static/media/sports-icons/4.png\"\n}, // {\n// \tid: 5,\n// \tabbrv: \"NCAAB\",\n// \tsport: \"basketball\",\n// \tdisplay_name: \"NCAA Men's Basketball\",\n// \tleague_name: \"mens-college-basketball\",\n// \tdata: {days: []},\n// \treload: false,\n// \tpath: \"/games?sport=ncaab\",\n// \tname: \"Basketball\",\n// \timage: \"../../static/media/sports-icons/5.png\",\n// \tmini: \"../../static/media/sports-icons/5.png\",\n// },\n{\n  id: 6,\n  abbrv: \"NHL\",\n  sport: \"hockey\",\n  display_name: \"NHL\",\n  league_name: \"nhl\",\n  data: {\n    days: []\n  },\n  reload: false,\n  path: \"/games?sport=nhl\",\n  name: \"NHL\",\n  image: \"../../static/media/sports-icons/6.png\",\n  mini: \"../../static/media/sports-icons/6.png\"\n}, {\n  id: 8,\n  abbrv: \"WNBA\",\n  sport: \"basketball\",\n  display_name: \"WNBA\",\n  league_name: \"wnba\",\n  data: {\n    days: []\n  },\n  reload: false,\n  path: \"/games?sport=wnba\",\n  name: \"WNBA\",\n  image: \"../../static/media/sports-icons/8.png\",\n  mini: \"../../static/media/sports-icons/8.png\"\n} // { id: 10, abbrv: \"MLS\", sport: \"soccer\", display_name: \"MLS\", league_name: \"MLS\", data: {days: []}, reload: false },\n];\nexport function SportProvider(props) {\n  const {\n    0: sportsData,\n    1: dispatch\n  } = useReducer(sportsReducer, initialSportsData);\n  const getData = useCallback(async league => {\n    let preGames,\n        inGames,\n        postGames,\n        leagueData,\n        sortedGames = [];\n\n    if (league.reload) {\n      axios.get(`http://site.api.espn.com/apis/site/v2/sports/${league.sport}/${league.league_name}/scoreboard`).then(response => {\n        leagueData = response.data;\n        inGames = response.data.events.filter(game => {\n          league.reload = true;\n          return game.status.type.state === \"in\";\n        });\n        postGames = response.data.events.filter(game => {\n          return game.status.type.state === \"post\";\n        });\n        preGames = response.data.events.filter(game => {\n          return game.status.type.state === \"pre\";\n        });\n        if (inGames.length === 0) league.reload = false;\n        sortedGames.push(preGames, inGames, postGames);\n        leagueData.events = sortedGames.flat();\n        dispatch({\n          type: league.display_name,\n          data: _objectSpread(_objectSpread({}, leagueData), {}, {\n            days: league.days\n          }),\n          reload: league.reload\n        }); // console.log(sortedGames.flat());\n      });\n    } // console.log(\"getData - league\", league);\n\n  });\n  useEffect(() => {\n    const timeOut = setTimeout(() => {\n      try {\n        sportsData.map(async league => {\n          getData(league);\n        });\n      } catch (err) {\n        console.log(err.message);\n      }\n    }, 15000);\n    return () => {\n      clearTimeout(timeOut);\n    };\n  });\n  useEffect(() => {\n    async function getSportsData() {\n      let removeSportsData = [];\n      let sportData = sportsData;\n\n      try {\n        sportData = await Promise.all(sportData.map(async league => {\n          let leagueData, sortedGames, reloadData;\n          await axios({\n            method: \"GET\",\n            url: `http://site.api.espn.com/apis/site/v2/sports/${league.sport}/${league.league_name}/scoreboard`\n          }).then(function (response) {\n            if (response.data.events.length === 0) {\n              removeSportsData.push(league);\n            } else {\n              leagueData = response.data;\n              sortedGames = response.data.events.filter(game => {\n                reloadData = true;\n                return game.status.type.state === \"in\";\n              });\n              sortedGames.push(response.data.events.filter(game => {\n                if (sortedGames.length === 0) reloadData = false;\n                return game.status.type.state === \"post\";\n              }));\n              sortedGames.push(response.data.events.filter(game => {\n                return game.status.type.state === \"pre\";\n              }));\n              leagueData.events = sortedGames.flat();\n            }\n          }.bind(this));\n          return _objectSpread(_objectSpread({}, league), {}, {\n            data: _objectSpread(_objectSpread({}, leagueData), {}, {\n              days: []\n            }),\n            reload: reloadData\n          });\n        }));\n      } catch (err) {\n        console.log(err.message);\n      }\n\n      dispatch({\n        type: \"ALL\",\n        data: sportData\n      });\n    }\n\n    getSportsData();\n  }, []); // console.log(\"SportsContext - sportsData\", sportsData);\n\n  return /*#__PURE__*/_jsxDEV(SportContext.Provider, {\n    value: sportsData,\n    children: /*#__PURE__*/_jsxDEV(SportDispatch.Provider, {\n      value: dispatch,\n      children: props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 3\n  }, this);\n}","map":{"version":3,"sources":["/Users/colechalland/Projects/ChalkCoin/contexts/Sports.Context.js"],"names":["createContext","useContext","useCallback","useReducer","useEffect","useState","axios","sportsReducer","SportContext","SportDispatch","initialSportsData","id","abbrv","sport","display_name","league_name","data","days","reload","path","name","image","mini","SportProvider","props","sportsData","dispatch","getData","league","preGames","inGames","postGames","leagueData","sortedGames","get","then","response","events","filter","game","status","type","state","length","push","flat","timeOut","setTimeout","map","err","console","log","message","clearTimeout","getSportsData","removeSportsData","sportData","Promise","all","reloadData","method","url","bind","children"],"mappings":"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","sourcesContent":["import { createContext, useContext, useCallback, useReducer, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport sportsReducer from \"../reducers/Sports.Reducer\";\n\nexport const SportContext = createContext();\nexport const SportDispatch = createContext();\nlet initialSportsData = [\n\t{\n\t\tid: 1,\n\t\tabbrv: \"NCAAF\",\n\t\tsport: \"football\",\n\t\tdisplay_name: \"NCAA Football\",\n\t\tleague_name: \"college-football\",\n\t\tdata: { days: [] },\n\t\treload: false,\n\t\tpath: \"/games?sport=ncaaf\",\n\t\tname: \"Football\",\n\t\timage: \"../../static/media/sports-icons/1.png\",\n\t\tmini: \"NCAAB\",\n\t},\n\t{\n\t\tid: 2,\n\t\tabbrv: \"NFL\",\n\t\tsport: \"football\",\n\t\tdisplay_name: \"NFL\",\n\t\tleague_name: \"nfl\",\n\t\tdata: { days: [] },\n\t\treload: false,\n\t\tpath: \"/games?sport=nfl\",\n\t\tname: \"NFL\",\n\t\timage: \"../../static/media/sports-icons/2.png\",\n\t\tmini: \"NFL\",\n\t},\n\t{\n\t\tid: 3,\n\t\tabbrv: \"MLB\",\n\t\tsport: \"baseball\",\n\t\tdisplay_name: \"MLB\",\n\t\tleague_name: \"mlb\",\n\t\tdata: { days: [] },\n\t\treload: false,\n\t\tpath: \"/games?sport=mlb\",\n\t\tname: \"MLB\",\n\t\timage: \"../../static/media/sports-icons/3.png\",\n\t\tmini: \"../../static/media/sports-icons/3.png\",\n\t},\n\t{\n\t\tid: 4,\n\t\tabbrv: \"NBA\",\n\t\tsport: \"basketball\",\n\t\tdisplay_name: \"NBA\",\n\t\tleague_name: \"nba\",\n\t\tdata: { days: [] },\n\t\treload: false,\n\t\tpath: \"/games?sport=nba\",\n\t\tname: \"NBA\",\n\t\timage: \"../../static/media/sports-icons/4.png\",\n\t\tmini: \"../../static/media/sports-icons/4.png\",\n\t},\n\t// {\n\t// \tid: 5,\n\t// \tabbrv: \"NCAAB\",\n\t// \tsport: \"basketball\",\n\t// \tdisplay_name: \"NCAA Men's Basketball\",\n\t// \tleague_name: \"mens-college-basketball\",\n\t// \tdata: {days: []},\n\t// \treload: false,\n\t// \tpath: \"/games?sport=ncaab\",\n\t// \tname: \"Basketball\",\n\t// \timage: \"../../static/media/sports-icons/5.png\",\n\t// \tmini: \"../../static/media/sports-icons/5.png\",\n\t// },\n\t{\n\t\tid: 6,\n\t\tabbrv: \"NHL\",\n\t\tsport: \"hockey\",\n\t\tdisplay_name: \"NHL\",\n\t\tleague_name: \"nhl\",\n\t\tdata: { days: [] },\n\t\treload: false,\n\t\tpath: \"/games?sport=nhl\",\n\t\tname: \"NHL\",\n\t\timage: \"../../static/media/sports-icons/6.png\",\n\t\tmini: \"../../static/media/sports-icons/6.png\",\n\t},\n\t{\n\t\tid: 8,\n\t\tabbrv: \"WNBA\",\n\t\tsport: \"basketball\",\n\t\tdisplay_name: \"WNBA\",\n\t\tleague_name: \"wnba\",\n\t\tdata: { days: [] },\n\t\treload: false,\n\t\tpath: \"/games?sport=wnba\",\n\t\tname: \"WNBA\",\n\t\timage: \"../../static/media/sports-icons/8.png\",\n\t\tmini: \"../../static/media/sports-icons/8.png\",\n\t},\n\t// { id: 10, abbrv: \"MLS\", sport: \"soccer\", display_name: \"MLS\", league_name: \"MLS\", data: {days: []}, reload: false },\n];\n\nexport function SportProvider(props) {\n\tconst [sportsData, dispatch] = useReducer(sportsReducer, initialSportsData);\n\n\tconst getData = useCallback(async (league) => {\n\t\tlet preGames,\n\t\t\tinGames,\n\t\t\tpostGames,\n\t\t\tleagueData,\n\t\t\tsortedGames = [];\n\n\t\tif (league.reload) {\n\t\t\taxios\n\t\t\t\t.get(`http://site.api.espn.com/apis/site/v2/sports/${league.sport}/${league.league_name}/scoreboard`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tleagueData = response.data;\n\t\t\t\t\tinGames = response.data.events.filter((game) => {\n\t\t\t\t\t\tleague.reload = true;\n\t\t\t\t\t\treturn game.status.type.state === \"in\";\n\t\t\t\t\t});\n\t\t\t\t\tpostGames = response.data.events.filter((game) => {\n\t\t\t\t\t\treturn game.status.type.state === \"post\";\n\t\t\t\t\t});\n\t\t\t\t\tpreGames = response.data.events.filter((game) => {\n\t\t\t\t\t\treturn game.status.type.state === \"pre\";\n\t\t\t\t\t});\n\n\t\t\t\t\tif (inGames.length === 0) league.reload = false;\n\t\t\t\t\tsortedGames.push(preGames, inGames, postGames);\n\t\t\t\t\tleagueData.events = sortedGames.flat();\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: league.display_name,\n\t\t\t\t\t\tdata: { ...leagueData, days: league.days },\n\t\t\t\t\t\treload: league.reload,\n\t\t\t\t\t});\n\n\t\t\t\t\t// console.log(sortedGames.flat());\n\t\t\t\t});\n\t\t}\n\t\t// console.log(\"getData - league\", league);\n\t});\n\n\tuseEffect(() => {\n\t\tconst timeOut = setTimeout(() => {\n\t\t\ttry {\n\t\t\t\tsportsData.map(async (league) => {\n\t\t\t\t\tgetData(league);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err.message);\n\t\t\t}\n\t\t}, 15000);\n\n\t\treturn () => {\n\t\t\tclearTimeout(timeOut);\n\t\t};\n\t});\n\n\tuseEffect(() => {\n\t\tasync function getSportsData() {\n\t\t\tlet removeSportsData = [];\n\t\t\tlet sportData = sportsData;\n\n\t\t\ttry {\n\t\t\t\tsportData = await Promise.all(\n\t\t\t\t\tsportData.map(async (league) => {\n\t\t\t\t\t\tlet leagueData, sortedGames, reloadData;\n\n\t\t\t\t\t\tawait axios({\n\t\t\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\t\t\turl: `http://site.api.espn.com/apis/site/v2/sports/${league.sport}/${league.league_name}/scoreboard`,\n\t\t\t\t\t\t}).then(\n\t\t\t\t\t\t\tfunction (response) {\n\t\t\t\t\t\t\t\tif (response.data.events.length === 0) {\n\t\t\t\t\t\t\t\t\tremoveSportsData.push(league);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tleagueData = response.data;\n\t\t\t\t\t\t\t\t\tsortedGames = response.data.events.filter((game) => {\n\t\t\t\t\t\t\t\t\t\treloadData = true;\n\t\t\t\t\t\t\t\t\t\treturn game.status.type.state === \"in\";\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tsortedGames.push(\n\t\t\t\t\t\t\t\t\t\tresponse.data.events.filter((game) => {\n\t\t\t\t\t\t\t\t\t\t\tif (sortedGames.length === 0) reloadData = false;\n\t\t\t\t\t\t\t\t\t\t\treturn game.status.type.state === \"post\";\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tsortedGames.push(\n\t\t\t\t\t\t\t\t\t\tresponse.data.events.filter((game) => {\n\t\t\t\t\t\t\t\t\t\t\treturn game.status.type.state === \"pre\";\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tleagueData.events = sortedGames.flat();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn { ...league, data: { ...leagueData, days: [] }, reload: reloadData };\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err.message);\n\t\t\t}\n\t\t\tdispatch({ type: \"ALL\", data: sportData });\n\t\t}\n\t\tgetSportsData();\n\t}, []);\n\n\t// console.log(\"SportsContext - sportsData\", sportsData);\n\n\treturn (\n\t\t<SportContext.Provider value={sportsData}>\n\t\t\t<SportDispatch.Provider value={dispatch}>{props.children}</SportDispatch.Provider>\n\t\t</SportContext.Provider>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}