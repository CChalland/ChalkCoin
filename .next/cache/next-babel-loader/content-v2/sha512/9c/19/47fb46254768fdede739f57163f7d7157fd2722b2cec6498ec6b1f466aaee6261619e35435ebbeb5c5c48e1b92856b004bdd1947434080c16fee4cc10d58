{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst capitalize = ([firstLetter, ...restOfWord]) => firstLetter.toUpperCase() + restOfWord.join(\"\"); // function requesterAccepterHelper(game, requesterPickName) {\n// \tlet requesterPickTeam = game.competitions[0].competitors.filter((team) => {\n// \t\treturn team.team.shortDisplayName === requesterPickName;\n// \t});\n// \tlet acceptingPickTeam = game.competitions[0].competitors.filter((team) => {\n// \t\treturn team.team.shortDisplayName !== requesterPickName;\n// \t});\n// \treturn { requesterPickTeam, acceptingPickTeam };\n// }\n\n\nfunction homeAwayHelper(game) {\n  let homeTeam = game.competitions[0].competitors.filter(team => {\n    return team.homeAway === \"home\";\n  });\n  let awayTeam = game.competitions[0].competitors.filter(team => {\n    return team.homeAway === \"away\";\n  });\n  return {\n    homeTeam,\n    awayTeam\n  };\n}\n\nfunction oddsHelper(outcomes, teamPick) {\n  let vigProbability;\n  let odd = outcomes.find(outcome => outcome.name.includes(teamPick.team.name));\n\n  if (odd.price < 0) {\n    vigProbability = -1 * odd.price / (-1 * odd.price + 100);\n  } else if (odd.price > 0) {\n    vigProbability = 100 / (odd.price + 100);\n  }\n\n  return _objectSpread(_objectSpread({}, odd), {}, {\n    vigProbability\n  });\n}\n\nfunction marketHelper(market, away, home) {\n  let awayOdds = oddsHelper(market.outcomes, away);\n  let homeOdds = oddsHelper(market.outcomes, home);\n  const totalProb = awayOdds.vigProbability + homeOdds.vigProbability;\n  awayOdds.winProbability = awayOdds.vigProbability / totalProb;\n  homeOdds.winProbability = homeOdds.vigProbability / totalProb;\n  return {\n    key: market.key,\n    away: awayOdds,\n    home: homeOdds\n  };\n}\n\nexport function BetGameData(bet) {\n  var _bet$odds;\n\n  const {\n    homeTeam,\n    awayTeam\n  } = homeAwayHelper(bet.event);\n  const bookmakers = (_bet$odds = bet.odds) === null || _bet$odds === void 0 ? void 0 : _bet$odds.bookmakers.map(odd => {\n    return {\n      key: odd.key,\n      title: odd.title,\n      market: marketHelper(odd.markets[0], awayTeam[0], homeTeam[0])\n    };\n  });\n  const awayAvgProb = (bookmakers === null || bookmakers === void 0 ? void 0 : bookmakers.reduce((total, bookmaker, index, array) => {\n    return total += bookmaker.market.away.winProbability;\n  }, 0)) / bookmakers.length * 100;\n  const homeAvgProb = bookmakers.reduce((total, bookmaker, index, array) => {\n    return total += bookmaker.market.home.winProbability;\n  }, 0) / (bookmakers === null || bookmakers === void 0 ? void 0 : bookmakers.length) * 100;\n  let homeRecords, awayRecords;\n  let temp = [{\n    name: \"Home\",\n    type: \"home\",\n    summary: 0\n  }, {\n    name: \"Away\",\n    type: \"away\",\n    summary: 0\n  }];\n\n  if (!bet.event.competitions[0].competitors[0].records) {\n    homeRecords = [{\n      name: \"Total\",\n      type: \"total\",\n      summary: 0\n    }, ...temp];\n    awayRecords = [{\n      name: \"Total\",\n      type: \"total\",\n      summary: 0\n    }, ...temp];\n  } else if (bet.event.competitions[0].competitors[0].records.length > 1) {\n    homeRecords = homeTeam[0].records;\n    awayRecords = awayTeam[0].records;\n  } else {\n    homeRecords = [...homeTeam[0].records, ...temp];\n    awayRecords = [...awayTeam[0].records, ...temp];\n  }\n\n  return {\n    date: bet.details.date,\n    sportName: bet.details.displayName,\n    status: bet.event.status,\n    shortDetail: bet.event.competitions[0].status.type.shortDetail,\n    detail: bet.event.competitions[0].status.type.detail,\n    odds: bookmakers,\n    away: {\n      abbreviation: awayTeam[0].team.abbreviation,\n      alternateColor: `#${awayTeam[0].team.alternateColor}`,\n      color: `#${awayTeam[0].team.color}`,\n      logo: awayTeam[0].team.logo,\n      name: awayTeam[0].team.shortDisplayName,\n      records: awayRecords,\n      score: parseInt(awayTeam[0].score),\n      requesterTeam: awayTeam[0].team.shortDisplayName === bet.details.winner ? true : false,\n      winProb: awayAvgProb.toFixed(1)\n    },\n    home: {\n      abbreviation: homeTeam[0].team.abbreviation,\n      alternateColor: `#${homeTeam[0].team.alternateColor}`,\n      color: `#${homeTeam[0].team.color}`,\n      logo: homeTeam[0].team.logo,\n      name: homeTeam[0].team.shortDisplayName,\n      records: homeRecords,\n      score: parseInt(homeTeam[0].score),\n      requesterTeam: homeTeam[0].team.shortDisplayName === bet.details.winner ? true : false,\n      winProb: homeAvgProb.toFixed(1)\n    }\n  }; // const { requesterPickTeam, acceptingPickTeam } = requesterAccepterHelper(bet.event, bet.details.winner);\n  // let requesterPickTeamRecords, acceptingPickTeamRecords;\n  // let temp = [\n  // \t{ name: \"Home\", type: \"home\", summary: 0 },\n  // \t{ name: \"Away\", type: \"away\", summary: 0 },\n  // ];\n  // if (!bet.event.competitions[0].competitors[0].records) {\n  // \trequesterPickTeamRecords = [{ name: \"Total\", type: \"total\", summary: 0 }, ...temp];\n  // \tacceptingPickTeamRecords = [{ name: \"Total\", type: \"total\", summary: 0 }, ...temp];\n  // } else if (bet.event.competitions[0].competitors[0].records.length > 1) {\n  // \trequesterPickTeamRecords = requesterPickTeam[0].records;\n  // \tacceptingPickTeamRecords = acceptingPickTeam[0].records;\n  // } else {\n  // \trequesterPickTeamRecords = [...requesterPickTeam[0].records, ...temp];\n  // \tacceptingPickTeamRecords = [...acceptingPickTeam[0].records, ...temp];\n  // }\n  // return {\n  // \tdate: bet.details.date,\n  // \tsportName: bet.details.displayName,\n  // \tstatus: bet.event.status,\n  // \tshortDetail: bet.event.competitions[0].status.type.shortDetail,\n  // \tdetail: bet.event.competitions[0].status.type.detail,\n  // \tacceptingTeam: {\n  // \t\tabbreviation: acceptingPickTeam[0].team.abbreviation,\n  // \t\talternateColor: `#${acceptingPickTeam[0].team.alternateColor}`,\n  // \t\tcolor: `#${acceptingPickTeam[0].team.color}`,\n  // \t\tlogo: acceptingPickTeam[0].team.logo,\n  // \t\tname: acceptingPickTeam[0].team.shortDisplayName,\n  // \t\trecords: acceptingPickTeamRecords,\n  // \t\tscore: parseInt(acceptingPickTeam[0].score),\n  // \t\thomeAway: capitalize(acceptingPickTeam[0].homeAway),\n  // \t},\n  // \trequesterTeam: {\n  // \t\tabbreviation: requesterPickTeam[0].team.abbreviation,\n  // \t\talternateColor: `#${requesterPickTeam[0].team.alternateColor}`,\n  // \t\tcolor: `#${requesterPickTeam[0].team.color}`,\n  // \t\tlogo: requesterPickTeam[0].team.logo,\n  // \t\tname: requesterPickTeam[0].team.shortDisplayName,\n  // \t\trecords: requesterPickTeamRecords,\n  // \t\tscore: parseInt(requesterPickTeam[0].score),\n  // \t\thomeAway: capitalize(requesterPickTeam[0].homeAway),\n  // \t},\n  // };\n}\nexport function BetGameOdds(bet) {\n  var _bet$odds2;\n\n  const {\n    homeTeam,\n    awayTeam\n  } = homeAwayHelper(bet.event);\n  const bookmakers = (_bet$odds2 = bet.odds) === null || _bet$odds2 === void 0 ? void 0 : _bet$odds2.bookmakers.map(odd => {\n    return {\n      key: odd.key,\n      title: odd.title,\n      market: marketHelper(odd.markets[0], awayTeam[0], homeTeam[0])\n    };\n  });\n  const awayAvgProb = (bookmakers === null || bookmakers === void 0 ? void 0 : bookmakers.reduce((total, bookmaker, index, array) => {\n    return total += bookmaker.market.away.winProbability;\n  }, 0)) / bookmakers.length * 100;\n  const homeAvgProb = bookmakers.reduce((total, bookmaker, index, array) => {\n    return total += bookmaker.market.home.winProbability;\n  }, 0) / (bookmakers === null || bookmakers === void 0 ? void 0 : bookmakers.length) * 100;\n  return {\n    sportName: bet.details.displayName,\n    status: bet.event.status,\n    odds: bookmakers,\n    away: {\n      abbreviation: awayTeam[0].team.abbreviation,\n      alternateColor: `#${awayTeam[0].team.alternateColor}`,\n      color: `#${awayTeam[0].team.color}`,\n      logo: awayTeam[0].team.logo,\n      name: awayTeam[0].team.shortDisplayName,\n      winProb: awayAvgProb.toFixed(1)\n    },\n    home: {\n      abbreviation: homeTeam[0].team.abbreviation,\n      alternateColor: `#${homeTeam[0].team.alternateColor}`,\n      color: `#${homeTeam[0].team.color}`,\n      logo: homeTeam[0].team.logo,\n      name: homeTeam[0].team.shortDisplayName,\n      winProb: homeAvgProb.toFixed(1)\n    }\n  };\n}","map":{"version":3,"sources":["/Users/colechalland/Projects/CryptoCurrency/BEToken/helpers/BetCard.js"],"names":["capitalize","firstLetter","restOfWord","toUpperCase","join","homeAwayHelper","game","homeTeam","competitions","competitors","filter","team","homeAway","awayTeam","oddsHelper","outcomes","teamPick","vigProbability","odd","find","outcome","name","includes","price","marketHelper","market","away","home","awayOdds","homeOdds","totalProb","winProbability","key","BetGameData","bet","event","bookmakers","odds","map","title","markets","awayAvgProb","reduce","total","bookmaker","index","array","length","homeAvgProb","homeRecords","awayRecords","temp","type","summary","records","date","details","sportName","displayName","status","shortDetail","detail","abbreviation","alternateColor","color","logo","shortDisplayName","score","parseInt","requesterTeam","winner","winProb","toFixed","BetGameOdds"],"mappings":"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","sourcesContent":["const capitalize = ([firstLetter, ...restOfWord]) => firstLetter.toUpperCase() + restOfWord.join(\"\");\n\n// function requesterAccepterHelper(game, requesterPickName) {\n// \tlet requesterPickTeam = game.competitions[0].competitors.filter((team) => {\n// \t\treturn team.team.shortDisplayName === requesterPickName;\n// \t});\n// \tlet acceptingPickTeam = game.competitions[0].competitors.filter((team) => {\n// \t\treturn team.team.shortDisplayName !== requesterPickName;\n// \t});\n// \treturn { requesterPickTeam, acceptingPickTeam };\n// }\nfunction homeAwayHelper(game) {\n\tlet homeTeam = game.competitions[0].competitors.filter((team) => {\n\t\treturn team.homeAway === \"home\";\n\t});\n\tlet awayTeam = game.competitions[0].competitors.filter((team) => {\n\t\treturn team.homeAway === \"away\";\n\t});\n\treturn { homeTeam, awayTeam };\n}\nfunction oddsHelper(outcomes, teamPick) {\n\tlet vigProbability;\n\tlet odd = outcomes.find((outcome) => outcome.name.includes(teamPick.team.name));\n\tif (odd.price < 0) {\n\t\tvigProbability = (-1 * odd.price) / (-1 * odd.price + 100);\n\t} else if (odd.price > 0) {\n\t\tvigProbability = 100 / (odd.price + 100);\n\t}\n\treturn { ...odd, vigProbability };\n}\nfunction marketHelper(market, away, home) {\n\tlet awayOdds = oddsHelper(market.outcomes, away);\n\tlet homeOdds = oddsHelper(market.outcomes, home);\n\tconst totalProb = awayOdds.vigProbability + homeOdds.vigProbability;\n\tawayOdds.winProbability = awayOdds.vigProbability / totalProb;\n\thomeOdds.winProbability = homeOdds.vigProbability / totalProb;\n\treturn {\n\t\tkey: market.key,\n\t\taway: awayOdds,\n\t\thome: homeOdds,\n\t};\n}\n\nexport function BetGameData(bet) {\n\tconst { homeTeam, awayTeam } = homeAwayHelper(bet.event);\n\tconst bookmakers = bet.odds?.bookmakers.map((odd) => {\n\t\treturn {\n\t\t\tkey: odd.key,\n\t\t\ttitle: odd.title,\n\t\t\tmarket: marketHelper(odd.markets[0], awayTeam[0], homeTeam[0]),\n\t\t};\n\t});\n\tconst awayAvgProb =\n\t\t(bookmakers?.reduce((total, bookmaker, index, array) => {\n\t\t\treturn (total += bookmaker.market.away.winProbability);\n\t\t}, 0) /\n\t\t\tbookmakers.length) *\n\t\t100;\n\tconst homeAvgProb =\n\t\t(bookmakers.reduce((total, bookmaker, index, array) => {\n\t\t\treturn (total += bookmaker.market.home.winProbability);\n\t\t}, 0) /\n\t\t\tbookmakers?.length) *\n\t\t100;\n\tlet homeRecords, awayRecords;\n\tlet temp = [\n\t\t{ name: \"Home\", type: \"home\", summary: 0 },\n\t\t{ name: \"Away\", type: \"away\", summary: 0 },\n\t];\n\n\tif (!bet.event.competitions[0].competitors[0].records) {\n\t\thomeRecords = [{ name: \"Total\", type: \"total\", summary: 0 }, ...temp];\n\t\tawayRecords = [{ name: \"Total\", type: \"total\", summary: 0 }, ...temp];\n\t} else if (bet.event.competitions[0].competitors[0].records.length > 1) {\n\t\thomeRecords = homeTeam[0].records;\n\t\tawayRecords = awayTeam[0].records;\n\t} else {\n\t\thomeRecords = [...homeTeam[0].records, ...temp];\n\t\tawayRecords = [...awayTeam[0].records, ...temp];\n\t}\n\n\treturn {\n\t\tdate: bet.details.date,\n\t\tsportName: bet.details.displayName,\n\t\tstatus: bet.event.status,\n\t\tshortDetail: bet.event.competitions[0].status.type.shortDetail,\n\t\tdetail: bet.event.competitions[0].status.type.detail,\n\t\todds: bookmakers,\n\t\taway: {\n\t\t\tabbreviation: awayTeam[0].team.abbreviation,\n\t\t\talternateColor: `#${awayTeam[0].team.alternateColor}`,\n\t\t\tcolor: `#${awayTeam[0].team.color}`,\n\t\t\tlogo: awayTeam[0].team.logo,\n\t\t\tname: awayTeam[0].team.shortDisplayName,\n\t\t\trecords: awayRecords,\n\t\t\tscore: parseInt(awayTeam[0].score),\n\t\t\trequesterTeam: awayTeam[0].team.shortDisplayName === bet.details.winner ? true : false,\n\t\t\twinProb: awayAvgProb.toFixed(1),\n\t\t},\n\t\thome: {\n\t\t\tabbreviation: homeTeam[0].team.abbreviation,\n\t\t\talternateColor: `#${homeTeam[0].team.alternateColor}`,\n\t\t\tcolor: `#${homeTeam[0].team.color}`,\n\t\t\tlogo: homeTeam[0].team.logo,\n\t\t\tname: homeTeam[0].team.shortDisplayName,\n\t\t\trecords: homeRecords,\n\t\t\tscore: parseInt(homeTeam[0].score),\n\t\t\trequesterTeam: homeTeam[0].team.shortDisplayName === bet.details.winner ? true : false,\n\t\t\twinProb: homeAvgProb.toFixed(1),\n\t\t},\n\t};\n\t// const { requesterPickTeam, acceptingPickTeam } = requesterAccepterHelper(bet.event, bet.details.winner);\n\t// let requesterPickTeamRecords, acceptingPickTeamRecords;\n\t// let temp = [\n\t// \t{ name: \"Home\", type: \"home\", summary: 0 },\n\t// \t{ name: \"Away\", type: \"away\", summary: 0 },\n\t// ];\n\n\t// if (!bet.event.competitions[0].competitors[0].records) {\n\t// \trequesterPickTeamRecords = [{ name: \"Total\", type: \"total\", summary: 0 }, ...temp];\n\t// \tacceptingPickTeamRecords = [{ name: \"Total\", type: \"total\", summary: 0 }, ...temp];\n\t// } else if (bet.event.competitions[0].competitors[0].records.length > 1) {\n\t// \trequesterPickTeamRecords = requesterPickTeam[0].records;\n\t// \tacceptingPickTeamRecords = acceptingPickTeam[0].records;\n\t// } else {\n\t// \trequesterPickTeamRecords = [...requesterPickTeam[0].records, ...temp];\n\t// \tacceptingPickTeamRecords = [...acceptingPickTeam[0].records, ...temp];\n\t// }\n\n\t// return {\n\t// \tdate: bet.details.date,\n\t// \tsportName: bet.details.displayName,\n\t// \tstatus: bet.event.status,\n\t// \tshortDetail: bet.event.competitions[0].status.type.shortDetail,\n\t// \tdetail: bet.event.competitions[0].status.type.detail,\n\t// \tacceptingTeam: {\n\t// \t\tabbreviation: acceptingPickTeam[0].team.abbreviation,\n\t// \t\talternateColor: `#${acceptingPickTeam[0].team.alternateColor}`,\n\t// \t\tcolor: `#${acceptingPickTeam[0].team.color}`,\n\t// \t\tlogo: acceptingPickTeam[0].team.logo,\n\t// \t\tname: acceptingPickTeam[0].team.shortDisplayName,\n\t// \t\trecords: acceptingPickTeamRecords,\n\t// \t\tscore: parseInt(acceptingPickTeam[0].score),\n\t// \t\thomeAway: capitalize(acceptingPickTeam[0].homeAway),\n\t// \t},\n\t// \trequesterTeam: {\n\t// \t\tabbreviation: requesterPickTeam[0].team.abbreviation,\n\t// \t\talternateColor: `#${requesterPickTeam[0].team.alternateColor}`,\n\t// \t\tcolor: `#${requesterPickTeam[0].team.color}`,\n\t// \t\tlogo: requesterPickTeam[0].team.logo,\n\t// \t\tname: requesterPickTeam[0].team.shortDisplayName,\n\t// \t\trecords: requesterPickTeamRecords,\n\t// \t\tscore: parseInt(requesterPickTeam[0].score),\n\t// \t\thomeAway: capitalize(requesterPickTeam[0].homeAway),\n\t// \t},\n\t// };\n}\n\nexport function BetGameOdds(bet) {\n\tconst { homeTeam, awayTeam } = homeAwayHelper(bet.event);\n\tconst bookmakers = bet.odds?.bookmakers.map((odd) => {\n\t\treturn {\n\t\t\tkey: odd.key,\n\t\t\ttitle: odd.title,\n\t\t\tmarket: marketHelper(odd.markets[0], awayTeam[0], homeTeam[0]),\n\t\t};\n\t});\n\tconst awayAvgProb =\n\t\t(bookmakers?.reduce((total, bookmaker, index, array) => {\n\t\t\treturn (total += bookmaker.market.away.winProbability);\n\t\t}, 0) /\n\t\t\tbookmakers.length) *\n\t\t100;\n\tconst homeAvgProb =\n\t\t(bookmakers.reduce((total, bookmaker, index, array) => {\n\t\t\treturn (total += bookmaker.market.home.winProbability);\n\t\t}, 0) /\n\t\t\tbookmakers?.length) *\n\t\t100;\n\n\treturn {\n\t\tsportName: bet.details.displayName,\n\t\tstatus: bet.event.status,\n\t\todds: bookmakers,\n\t\taway: {\n\t\t\tabbreviation: awayTeam[0].team.abbreviation,\n\t\t\talternateColor: `#${awayTeam[0].team.alternateColor}`,\n\t\t\tcolor: `#${awayTeam[0].team.color}`,\n\t\t\tlogo: awayTeam[0].team.logo,\n\t\t\tname: awayTeam[0].team.shortDisplayName,\n\t\t\twinProb: awayAvgProb.toFixed(1),\n\t\t},\n\t\thome: {\n\t\t\tabbreviation: homeTeam[0].team.abbreviation,\n\t\t\talternateColor: `#${homeTeam[0].team.alternateColor}`,\n\t\t\tcolor: `#${homeTeam[0].team.color}`,\n\t\t\tlogo: homeTeam[0].team.logo,\n\t\t\tname: homeTeam[0].team.shortDisplayName,\n\t\t\twinProb: homeAvgProb.toFixed(1),\n\t\t},\n\t};\n}\n"]},"metadata":{},"sourceType":"module"}